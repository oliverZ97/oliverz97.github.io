import{r as l,a3 as E,j as e,X as s,W as o,ab as I,ac as F,Y as x,V as O}from"./index-ecaca49e.js";import{u as R,R as G,F as f,o as g,g as y}from"./quizUtils-cb877078.js";const V=()=>{const[c,W]=l.useState([]),[r,w]=l.useState(null),[a,S]=l.useState(null),[d,v]=l.useState(null),[u,A]=l.useState(null),[C,D]=l.useState("adultsOnly"),[m,j]=l.useState("false"),[p,N]=l.useState("all"),[q,M]=l.useState([]);E(),l.useEffect(()=>{c.length===0&&W([...R.sort((i,t)=>i.Name<t.Name?-1:1)])},[c,R]);function _(){let i=["0-11","12-18","19-30","31-50","51-70","100+"];C==="adultsOnly"&&(i=["19-30","31-50","51-70","100+"]);let t=c.filter(z=>i.includes(z.Age_Group));if(t.length===0)return;p!=="all"&&(t=t.filter(z=>z.Sex.toLowerCase()===p));const h=t[Math.floor(Math.random()*t.length)];let b=t[Math.floor(Math.random()*t.length)],n=t[Math.floor(Math.random()*t.length)],L=t[Math.floor(Math.random()*t.length)];w(h),S(b),v(n),A(L)}l.useEffect(()=>{c.length>0&&!r&&!a&&_()},[c]),l.useEffect(()=>{_()},[p,C]);function k(i){if(r&&a){let t=["0-11","12-18","19-30","31-50","51-70","100+"];C==="adultsOnly"&&(t=["19-30","31-50","51-70","100+"]);let h=c.filter(n=>t.includes(n.Age_Group));p!=="all"&&(h=h.filter(n=>n.Sex.toLowerCase()===p));const b=h[Math.floor(Math.random()*h.length)];if(i==="left"){let n=q;n.push(r),M(n),j("right"),setTimeout(()=>{S(u),A(b),j("false")},500)}else{let n=q;n.push(a),M(n),j("left"),setTimeout(()=>{w(d),v(b),j("false")},500)}}}return e.jsx(s,{children:e.jsxs(s,{sx:{position:"relative",background:o.gradient,padding:4,display:"flex",flexDirection:"column",alignItems:"center",height:"100vh"},children:[e.jsxs(s,{sx:{display:"flex",gap:12},children:[e.jsxs(I,{children:[e.jsx(F,{sx:{color:o.quiz.primary_text,"&.Mui-focused":{color:o.quiz.primary_text}},children:"Gender"}),e.jsxs(G,{"aria-labelledby":"demo-radio-buttons-group-label",defaultValue:"all",name:"radio-buttons-group",row:!0,onChange:i=>N(i==null?void 0:i.target.value),children:[e.jsx(f,{sx:{color:o.quiz.primary_text},value:"all",control:e.jsx(g,{}),label:"All"}),e.jsx(f,{sx:{color:o.quiz.primary_text},value:"female",control:e.jsx(g,{}),label:"Female"}),e.jsx(f,{sx:{color:o.quiz.primary_text},value:"male",control:e.jsx(g,{}),label:"Male"})]})]}),e.jsxs(I,{children:[e.jsx(F,{sx:{color:o.quiz.primary_text,"&.Mui-focused":{color:o.quiz.primary_text}},children:"Age"}),e.jsxs(G,{"aria-labelledby":"demo-radio-buttons-group-label",defaultValue:"adultsOnly",name:"radio-buttons-group",row:!0,onChange:i=>D(i==null?void 0:i.target.value),children:[e.jsx(f,{sx:{color:o.quiz.primary_text},value:"all",control:e.jsx(g,{}),label:"All"}),e.jsx(f,{sx:{color:o.quiz.primary_text},value:"adultsOnly",control:e.jsx(g,{}),label:"Adults Only"})]})]})]}),e.jsxs(s,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flex:1,width:"100%",position:"relative"},children:[e.jsxs(s,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"relative"},children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center",position:"relative"},children:[e.jsxs(s,{sx:{position:"relative",width:"300px",height:"400px"},children:[r&&e.jsx(s,{width:"300px",component:"img",height:"400px",sx:{position:"absolute",top:0,left:0,objectFit:"cover",transition:"transform 0.5s ease-in-out, opacity 0.5s ease-in-out",transform:m==="left"?"translateY(-500px)":"translateY(0)",opacity:m==="left"?0:1,zIndex:2},src:y(r==null?void 0:r.id)},r.id),d&&e.jsx(s,{width:"300px",component:"img",height:"400px",sx:{position:"absolute",top:0,left:0,objectFit:"cover",zIndex:1},src:y(d==null?void 0:d.id)},d.id)]}),e.jsx(s,{sx:{backgroundColor:o.quiz.primary_text,padding:2,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",height:"60px",width:"60px",flexShrink:0,position:"absolute",left:"50%",transform:"translateX(-50%)",zIndex:10},children:e.jsx(x,{sx:{fontWeight:"bold"},children:"VS."})}),e.jsxs(s,{sx:{position:"relative",width:"300px",height:"400px"},children:[a&&e.jsx(s,{width:"300px",component:"img",height:"400px",sx:{position:"absolute",top:0,left:0,objectFit:"cover",transition:"transform 0.5s ease-in-out, opacity 0.5s ease-in-out",transform:m==="right"?"translateY(-500px)":"translateY(0)",opacity:m==="right"?0:1,zIndex:2},src:y(a==null?void 0:a.id)},a.id),u&&e.jsx(s,{width:"300px",component:"img",height:"400px",sx:{position:"absolute",top:0,left:0,objectFit:"cover",zIndex:1},src:y(u==null?void 0:u.id)},u.id)]})]}),e.jsxs(s,{sx:{marginTop:4,display:"flex",gap:28},children:[e.jsx(O,{sx:{backgroundColor:o.quiz.success,width:"100px","&:hover":{backgroundColor:o.quiz.success_light}},onClick:()=>k("left"),variant:"contained",children:"Keep"}),e.jsx(O,{sx:{backgroundColor:o.quiz.success,width:"100px","&:hover":{backgroundColor:o.quiz.success_light}},onClick:()=>k("right"),variant:"contained",children:"Keep"})]})]}),r&&e.jsxs(s,{sx:{position:"absolute",left:"7%",display:"flex",flexDirection:"column",alignItems:"center",gap:1,color:"white",maxWidth:"250px"},children:[e.jsx(x,{sx:{fontSize:"24px",wordWrap:"break-word",textAlign:"center",whiteSpace:"break-spaces",fontWeight:"bold"},children:r.Name}),e.jsx(x,{children:"from"}),e.jsx(x,{sx:{fontSize:"28px",textAlign:"center"},children:r.Anime})]}),a&&e.jsxs(s,{sx:{position:"absolute",right:"7%",display:"flex",flexDirection:"column",alignItems:"center",gap:1,color:"white",maxWidth:"250px"},children:[e.jsx(x,{sx:{fontSize:"24px",wordWrap:"break-word",textAlign:"center",whiteSpace:"break-spaces",fontWeight:"bold"},children:a.Name}),e.jsx(x,{children:"from"}),e.jsx(x,{sx:{fontSize:"28px",textAlign:"center"},children:a.Anime})]})]})]})})};export{V as default};
